# =========================================================
# ROOT .env.example (Local Dev Canonical)
# =========================================================
# This file is the "single source of truth" for local ports and shared env.
# Each app also has its own apps/*/.env.example with only what that app needs.
# Copy this file to .env and fill in values as needed.

# =========================================================
# Environment
# =========================================================
APP_ENV=development
LOG_LEVEL=info

# =========================================================
# Local Ports / Hosts (canonical)
# =========================================================
API_HOST=0.0.0.0
API_PORT=3002

TENANT_PORTAL_PORT=5174
ADMIN_PORTAL_PORT=5175
MARKETING_PORTAL_PORT=5176

TENANT_PORTAL_BASE_URL=http://localhost:5174
ADMIN_PORTAL_BASE_URL=http://localhost:5175
MARKETING_SITE_BASE_URL=http://localhost:5176

# =========================================================
# Auth0 / JWT Verification (Production uses these)
# =========================================================
# In production: API verifies RS256 tokens via JWKS.
# In development: HS256 dev tokens are allowed if JWT_DEV_SECRET is set.
AUTH_JWKS_URL=https://YOUR_AUTH0_DOMAIN/.well-known/jwks.json
AUTH_ISSUER=https://YOUR_AUTH0_DOMAIN/
AUTH_AUDIENCE=https://api.superapp.com

# Dev-only HS256 signing secret (required for /dev/token and dev-only /auth/login)
JWT_DEV_SECRET=dev-secret-change-me

# =========================================================
# Database (API only)
# =========================================================
DATABASE_URL=postgres://postgres:postgres@localhost:5432/superapp

# =========================================================
# Stripe (optional unless you run billing endpoints)
# =========================================================
# These are only required when Stripe/billing routes are exercised.
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...
STRIPE_PRICE_ID=price_...

# =========================================================
# Frontend Shared (Vite - only VITE_* is exposed to browser)
# =========================================================
VITE_API_BASE_URL=http://localhost:3002

# Auth0 SPA (shared pattern)
VITE_AUTH0_DOMAIN=your-tenant.us.auth0.com
VITE_AUTH0_CLIENT_ID=your-client-id
VITE_AUTH0_AUDIENCE=https://api.superapp.com

# Default callback location (override per app if needed)
VITE_AUTH0_REDIRECT_URI=http://localhost:5174/callback

# Dev helpers (optional)
VITE_DEV_AUTO_AUTH=true
VITE_SHOW_DEBUG=true
